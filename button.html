<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Keep Talking - Simple Wire</title>
</head>

<body>
    <b>Number of Batteries </b><input type="text" id="txt1"><br>
    <fieldset>
        <input type="radio" id="blue" name="Colour" value="blue">
        <label for="blue"> Blue</label> 
        <input type="radio" id="red" name="Colour" value="red">
        <label for="red"> Red</label>
        <input type="radio" id="white" name="Colour" value="white">
        <label for="white"> White</label> 
        <input type="radio" id="yellow" name="Colour" value="yellow">
        <label for="yellow"> Yellow</label>
        <input type="radio" id="other" name="Colour" value="other" checked>
        <label for="other"> Other</label>
    </fieldset>
    <fieldset>
        <input type="radio" id="hold" name="label" value="hold">
        <label for="hold"> HOLD</label> 
        <input type="radio" id="abort" name="label" value="abort">
        <label for="abort"> ABORT</label>
        <input type="radio" id="detonate" name="label" value="detonate">
        <label for="detonate"> DETONATE</label>
        <input type="radio" id="other2" name="label" value="other2" checked>
        <label for="other2"> Other</label> 
    </fieldset>

    <span id="out"></span><br><br>

    <b>Releasing a held button</b><br>
    blue: 4<br>
    yellow: 5<br>
    else: 1<br>

    <script>
        var txt1 = document.getElementById("txt1");
        var out = document.getElementById("out");
        txt1.addEventListener("keyup", change);
        white.addEventListener("click", change);
        blue.addEventListener("click", change);
        red.addEventListener("click", change);
        yellow.addEventListener("click", change);
        other.addEventListener("click", change);
        hold.addEventListener("click", change);
        abort.addEventListener("click", change);
        detonate.addEventListener("click", change);
        other.addEventListener("click", change);
        other2.addEventListener("click", change);

        function change() {
            done = false;
            txt = txt1.value;
            pos = "";
            if (blue.checked && abort.checked) {
                out.innerText = "Hold long";
                done = true;
            }
            else if (detonate.checked) {
                if (!isInt(txt)) {
                    pos = "If there is more than 1 battery 'hold short' else ";
                }
                else if (Number.parseInt(txt) > 1) {
                    out.innerText = "Hold short";
                    done = true;                   
                }
            }
            if (!done) {
                if (white.checked) {
                    pos += "if a label says 'CAR' 'hold long' else ";
                }
                if (!isInt(txt)) {
                    pos += "if a label says 'FRK' && there is more than 2 batteries 'hold short' else ";
                }
                else if (Number.parseInt(txt) > 2) {
                    pos += "if a label says 'FRK' 'hold short' else "; 
                }
                if (yellow.checked) {
                    out.innerText = pos + "hold long";
                    done = true;
                }
                if (!done) {
                    if (red.checked && hold.checked) {
                        out.innerText = pos + "hold short";
                    }
                    else {
                        out.innerText = pos + "hold long";
                    }
                }
            }
        }

        function isInt(s) {
            return (Number.parseInt(s)>0||Number.parseInt(s)<=0);
        }
    </script>
</body>

</html>